import{u as w,_ as le,E as S,a as Y,r as me,h as De,T as We,b as ge,c as je,t as se,d as ue,e as Se,i as J,f as Re,g as qe,j as Te,k as Fe,C as Ve,l as he,m as Ge,n as Ue,o as Ee,p as Ke,w as Ze,q as Me,s as Je,v as Qe}from"./index-7ace081e.js";import{d as P,o as O,c as ye,w as $,r as A,m as we,t as Xe,u as T,T as ke,a as f,i as ae,b as I,e as Ce,f as te,p as be,g as xe,h as $e,j as g,k as q,l as Oe,v as Ye,F as ie,n as Ie,q as et,s as tt,x as nt,y as ot,z as Pe,A as F,B as j,C as Q,D as Ne,E as st,G as at,H as B}from"./index-0ffdc303.js";const ne=function(e,o,...n){let l;o.includes("mouse")||o.includes("click")?l="MouseEvents":o.includes("key")?l="KeyboardEvent":l="HTMLEvents";const t=document.createEvent(l);return t.initEvent(o,...n),e.dispatchEvent(t),e},lt=P({name:"ElCollapseTransition"}),ut=P({...lt,setup(e){const o=w("collapse-transition"),n=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},l={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){n(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){n(t)},leaveCancelled(t){n(t)}};return(t,C)=>(O(),ye(ke,we({name:T(o).b()},Xe(l)),{default:$(()=>[A(t.$slots,"default")]),_:3},16,["name"]))}});var oe=le(ut,[["__file","collapse-transition.vue"]]);oe.install=e=>{e.component(oe.name,oe)};const it=oe;let rt=class{constructor(o,n){this.parent=o,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(o){o===this.subMenuItems.length?o=0:o<0&&(o=this.subMenuItems.length-1),this.subMenuItems[o].focus(),this.subIndex=o}addListeners(){const o=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",l=>{let t=!1;switch(l.code){case S.down:{this.gotoSubIndex(this.subIndex+1),t=!0;break}case S.up:{this.gotoSubIndex(this.subIndex-1),t=!0;break}case S.tab:{ne(o,"mouseleave");break}case S.enter:case S.space:{t=!0,l.currentTarget.click();break}}return t&&(l.preventDefault(),l.stopPropagation()),!1})})}},ct=class{constructor(o,n){this.domNode=o,this.submenu=null,this.submenu=null,this.init(n)}init(o){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${o}-menu`);n&&(this.submenu=new rt(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",o=>{let n=!1;switch(o.code){case S.down:{ne(o.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case S.up:{ne(o.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case S.tab:{ne(o.currentTarget,"mouseleave");break}case S.enter:case S.space:{n=!0,o.currentTarget.click();break}}n&&o.preventDefault()})}},dt=class{constructor(o,n){this.domNode=o,this.init(n)}init(o){const n=this.domNode.childNodes;Array.from(n).forEach(l=>{l.nodeType===1&&new ct(l,o)})}};const pt=P({name:"ElMenuCollapseTransition",setup(){const e=w("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,l){Y(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",l()},onAfterEnter(n){me(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),De(n,e.m("collapse"))?(me(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Y(n,e.m("collapse"))):(Y(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),me(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){Y(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function mt(e,o,n,l,t,C){return O(),ye(ke,we({mode:"out-in"},e.listeners),{default:$(()=>[A(e.$slots,"default")]),_:3},16)}var vt=le(pt,[["render",mt],["__file","menu-collapse-transition.vue"]]);function Be(e,o){const n=f(()=>{let t=e.parent;const C=[o.value];for(;t.type.name!=="ElMenu";)t.props.index&&C.unshift(t.props.index),t=t.parent;return C});return{parentMenu:f(()=>{let t=e.parent;for(;t&&!["ElMenu","ElSubMenu"].includes(t.type.name);)t=t.parent;return t}),indexPath:n}}function ft(e){return f(()=>{const n=e.backgroundColor;return n?new We(n).shade(20).toString():""})}const Ae=(e,o)=>{const n=w("menu");return f(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":ft(e).value||"","active-color":e.activeTextColor||"",level:`${o}`}))},ht=ge({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:J},expandOpenIcon:{type:J},collapseCloseIcon:{type:J},collapseOpenIcon:{type:J}}),ee="ElSubMenu";var _e=P({name:ee,props:ht,setup(e,{slots:o,expose:n}){je({from:"popper-append-to-body",replacement:"teleported",scope:ee,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},f(()=>e.popperAppendToBody!==void 0));const l=Ie(),{indexPath:t,parentMenu:C}=Be(l,f(()=>e.index)),d=w("menu"),b=w("sub-menu"),i=ae("rootMenu");i||se(ee,"can not inject root menu");const p=ae(`subMenu:${C.value.uid}`);p||se(ee,"can not inject sub menu");const v=I({}),M=I({});let x;const k=I(!1),re=I(),X=I(null),z=f(()=>L.value==="horizontal"&&H.value?"bottom-start":"right-start"),R=f(()=>L.value==="horizontal"&&H.value||L.value==="vertical"&&!i.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?E.value?e.expandOpenIcon:e.expandCloseIcon:Re:e.collapseCloseIcon&&e.collapseOpenIcon?E.value?e.collapseOpenIcon:e.collapseCloseIcon:qe),H=f(()=>p.level===0),V=f(()=>{var a;const c=(a=e.teleported)!=null?a:e.popperAppendToBody;return c===void 0?H.value:c}),ce=f(()=>i.props.collapse?`${d.namespace.value}-zoom-in-left`:`${d.namespace.value}-zoom-in-top`),de=f(()=>L.value==="horizontal"&&H.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),E=f(()=>i.openedMenus.includes(e.index)),G=f(()=>{let a=!1;return Object.values(v.value).forEach(c=>{c.active&&(a=!0)}),Object.values(M.value).forEach(c=>{c.active&&(a=!0)}),a}),L=f(()=>i.props.mode),D=Ce({index:e.index,indexPath:t,active:G}),U=Ae(i.props,p.level+1),K=f(()=>{var a;return(a=e.popperOffset)!=null?a:i.props.popperOffset}),Z=f(()=>{var a;return(a=e.popperClass)!=null?a:i.props.popperClass}),s=f(()=>{var a;return(a=e.showTimeout)!=null?a:i.props.showTimeout}),u=f(()=>{var a;return(a=e.hideTimeout)!=null?a:i.props.hideTimeout}),r=()=>{var a,c,m;return(m=(c=(a=X.value)==null?void 0:a.popperRef)==null?void 0:c.popperInstanceRef)==null?void 0:m.destroy()},y=a=>{a||r()},h=()=>{i.props.menuTrigger==="hover"&&i.props.mode==="horizontal"||i.props.collapse&&i.props.mode==="vertical"||e.disabled||i.handleSubMenuClick({index:e.index,indexPath:t.value,active:G.value})},_=(a,c=s.value)=>{var m;if(a.type!=="focus"){if(i.props.menuTrigger==="click"&&i.props.mode==="horizontal"||!i.props.collapse&&i.props.mode==="vertical"||e.disabled){p.mouseInChild.value=!0;return}p.mouseInChild.value=!0,x==null||x(),{stop:x}=Te(()=>{i.openMenu(e.index,t.value)},c),V.value&&((m=C.value.vnode.el)==null||m.dispatchEvent(new MouseEvent("mouseenter")))}},N=(a=!1)=>{var c;if(i.props.menuTrigger==="click"&&i.props.mode==="horizontal"||!i.props.collapse&&i.props.mode==="vertical"){p.mouseInChild.value=!1;return}x==null||x(),p.mouseInChild.value=!1,{stop:x}=Te(()=>!k.value&&i.closeMenu(e.index,t.value),u.value),V.value&&a&&((c=p.handleMouseleave)==null||c.call(p,!0))};te(()=>i.props.collapse,a=>y(!!a));{const a=m=>{M.value[m.index]=m},c=m=>{delete M.value[m.index]};be(`subMenu:${l.uid}`,{addSubMenu:a,removeSubMenu:c,handleMouseleave:N,mouseInChild:k,level:p.level+1})}return n({opened:E}),xe(()=>{i.addSubMenu(D),p.addSubMenu(D)}),$e(()=>{p.removeSubMenu(D),i.removeSubMenu(D)}),()=>{var a;const c=[(a=o.title)==null?void 0:a.call(o),g(ue,{class:b.e("icon-arrow"),style:{transform:E.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&i.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>q(R.value)?g(l.appContext.components[R.value]):g(R.value)})],m=i.isMenuPopup?g(Se,{ref:X,visible:E.value,effect:"light",pure:!0,offset:K.value,showArrow:!1,persistent:!0,popperClass:Z.value,placement:z.value,teleported:V.value,fallbackPlacements:de.value,transition:ce.value,gpuAcceleration:!1},{content:()=>{var W;return g("div",{class:[d.m(L.value),d.m("popup-container"),Z.value],onMouseenter:pe=>_(pe,100),onMouseleave:()=>N(!0),onFocus:pe=>_(pe,100)},[g("ul",{class:[d.b(),d.m("popup"),d.m(`popup-${z.value}`)],style:U.value},[(W=o.default)==null?void 0:W.call(o)])])},default:()=>g("div",{class:b.e("title"),onClick:h},c)}):g(ie,{},[g("div",{class:b.e("title"),ref:re,onClick:h},c),g(it,{},{default:()=>{var W;return Oe(g("ul",{role:"menu",class:[d.b(),d.m("inline")],style:U.value},[(W=o.default)==null?void 0:W.call(o)]),[[Ye,E.value]])}})]);return g("li",{class:[b.b(),b.is("active",G.value),b.is("opened",E.value),b.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:E.value,onMouseenter:_,onMouseleave:()=>N(),onFocus:_},[m])}}});const bt=ge({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:he(Array),default:()=>Ge([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:J,default:()=>Ue},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),ve=e=>Array.isArray(e)&&e.every(o=>q(o)),gt={close:(e,o)=>q(e)&&ve(o),open:(e,o)=>q(e)&&ve(o),select:(e,o,n,l)=>q(e)&&ve(o)&&tt(n)&&(l===void 0||l instanceof Promise)};var Mt=P({name:"ElMenu",props:bt,emits:gt,setup(e,{emit:o,slots:n,expose:l}){const t=Ie(),C=t.appContext.config.globalProperties.$router,d=I(),b=w("menu"),i=w("sub-menu"),p=I(-1),v=I(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),M=I(e.defaultActive),x=I({}),k=I({}),re=f(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),X=()=>{const s=M.value&&x.value[M.value];if(!s||e.mode==="horizontal"||e.collapse)return;s.indexPath.forEach(r=>{const y=k.value[r];y&&z(r,y.indexPath)})},z=(s,u)=>{v.value.includes(s)||(e.uniqueOpened&&(v.value=v.value.filter(r=>u.includes(r))),v.value.push(s),o("open",s,u))},R=s=>{const u=v.value.indexOf(s);u!==-1&&v.value.splice(u,1)},H=(s,u)=>{R(s),o("close",s,u)},V=({index:s,indexPath:u})=>{v.value.includes(s)?H(s,u):z(s,u)},ce=s=>{(e.mode==="horizontal"||e.collapse)&&(v.value=[]);const{index:u,indexPath:r}=s;if(!(Ee(u)||Ee(r)))if(e.router&&C){const y=s.route||u,h=C.push(y).then(_=>(_||(M.value=u),_));o("select",u,r,{index:u,indexPath:r,route:y},h)}else M.value=u,o("select",u,r,{index:u,indexPath:r})},de=s=>{const u=x.value,r=u[s]||M.value&&u[M.value]||u[e.defaultActive];r?M.value=r.index:M.value=s},E=()=>{var s,u;if(!d.value)return-1;const r=Array.from((u=(s=d.value)==null?void 0:s.childNodes)!=null?u:[]).filter(m=>m.nodeName!=="#comment"&&(m.nodeName!=="#text"||m.nodeValue)),y=64,h=Number.parseInt(getComputedStyle(d.value).paddingLeft,10),_=Number.parseInt(getComputedStyle(d.value).paddingRight,10),N=d.value.clientWidth-h-_;let a=0,c=0;return r.forEach((m,W)=>{a+=m.offsetWidth||0,a<=N-y&&(c=W+1)}),c===r.length?-1:c},G=s=>k.value[s].indexPath,L=(s,u=33.34)=>{let r;return()=>{r&&clearTimeout(r),r=setTimeout(()=>{s()},u)}};let D=!0;const U=()=>{const s=()=>{p.value=-1,nt(()=>{p.value=E()})};D?s():L(s)(),D=!1};te(()=>e.defaultActive,s=>{x.value[s]||(M.value=""),de(s)}),te(()=>e.collapse,s=>{s&&(v.value=[])}),te(x.value,X);let K;et(()=>{e.mode==="horizontal"&&e.ellipsis?K=Ke(d,U).stop:K==null||K()});const Z=I(!1);{const s=h=>{k.value[h.index]=h},u=h=>{delete k.value[h.index]};be("rootMenu",Ce({props:e,openedMenus:v,items:x,subMenus:k,activeIndex:M,isMenuPopup:re,addMenuItem:h=>{x.value[h.index]=h},removeMenuItem:h=>{delete x.value[h.index]},addSubMenu:s,removeSubMenu:u,openMenu:z,closeMenu:H,handleMenuItemClick:ce,handleSubMenuClick:V})),be(`subMenu:${t.uid}`,{addSubMenu:s,removeSubMenu:u,mouseInChild:Z,level:0})}return xe(()=>{e.mode==="horizontal"&&new dt(t.vnode.el,b.namespace.value)}),l({open:u=>{const{indexPath:r}=k.value[u];r.forEach(y=>z(y,r))},close:R,handleResize:U}),()=>{var s,u;let r=(u=(s=n.default)==null?void 0:s.call(n))!=null?u:[];const y=[];if(e.mode==="horizontal"&&d.value){const a=Fe(r),c=p.value===-1?a:a.slice(0,p.value),m=p.value===-1?[]:a.slice(p.value);m!=null&&m.length&&e.ellipsis&&(r=c,y.push(g(_e,{index:"sub-menu-more",class:i.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>g(ue,{class:i.e("icon-more")},{default:()=>g(e.ellipsisIcon)}),default:()=>m})))}const h=Ae(e,0),_=e.closeOnClickOutside?[[Ve,()=>{v.value.length&&(Z.value||(v.value.forEach(a=>o("close",a,G(a))),v.value=[]))}]]:[],N=Oe(g("ul",{key:String(e.collapse),role:"menubar",ref:d,style:h.value,class:{[b.b()]:!0,[b.m(e.mode)]:!0,[b.m("collapse")]:e.collapse}},[...r,...y]),_);return e.collapseTransition&&e.mode==="vertical"?g(vt,()=>N):N}}});const yt=ge({index:{type:he([String,null]),default:null},route:{type:he([String,Object])},disabled:Boolean}),Ct={click:e=>q(e.index)&&Array.isArray(e.indexPath)},fe="ElMenuItem",xt=P({name:fe,components:{ElTooltip:Se},props:yt,emits:Ct,setup(e,{emit:o}){const n=Ie(),l=ae("rootMenu"),t=w("menu"),C=w("menu-item");l||se(fe,"can not inject root menu");const{parentMenu:d,indexPath:b}=Be(n,ot(e,"index")),i=ae(`subMenu:${d.value.uid}`);i||se(fe,"can not inject sub menu");const p=f(()=>e.index===l.activeIndex),v=Ce({index:e.index,indexPath:b,active:p}),M=()=>{e.disabled||(l.handleMenuItemClick({index:e.index,indexPath:b.value,route:e.route}),o("click",v))};return xe(()=>{i.addSubMenu(v),l.addMenuItem(v)}),$e(()=>{i.removeSubMenu(v),l.removeMenuItem(v)}),{parentMenu:d,rootMenu:l,active:p,nsMenu:t,nsMenuItem:C,handleClick:M}}});function It(e,o,n,l,t,C){const d=Pe("el-tooltip");return O(),F("li",{class:Q([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:o[0]||(o[0]=(...b)=>e.handleClick&&e.handleClick(...b))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(O(),ye(d,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:$(()=>[A(e.$slots,"title")]),default:$(()=>[j("div",{class:Q(e.nsMenu.be("tooltip","trigger"))},[A(e.$slots,"default")],2)]),_:3},8,["effect"])):(O(),F(ie,{key:1},[A(e.$slots,"default"),A(e.$slots,"title")],64))],2)}var ze=le(xt,[["render",It],["__file","menu-item.vue"]]);const _t={title:String},Tt="ElMenuItemGroup",Et=P({name:Tt,props:_t,setup(){return{ns:w("menu-item-group")}}});function St(e,o,n,l,t,C){return O(),F("li",{class:Q(e.ns.b())},[j("div",{class:Q(e.ns.e("title"))},[e.$slots.title?A(e.$slots,"title",{key:1}):(O(),F(ie,{key:0},[Ne(st(e.title),1)],64))],2),j("ul",null,[A(e.$slots,"default")])],2)}var He=le(Et,[["render",St],["__file","menu-item-group.vue"]]);const wt=Ze(Mt,{MenuItem:ze,MenuItemGroup:He,SubMenu:_e}),kt=Me(ze);Me(He);Me(_e);const Le=at("menu",()=>({isCollapsed:I(!1)})),$t={class:"bg-[#445c88] flex items-center h-20 text-white"},Ot=j("h1",{class:"text-3xl font-bold"},"SCD WEBUI",-1),Pt=P({__name:"header",setup(e){const o=Le();return(n,l)=>(O(),F("div",$t,[B(T(ue),{class:Q(["!w-10 !h-10 block mx-[10px] transition-all duration-200",T(o).isCollapsed?"rotate-180":"rotate-0"]),onClick:l[0]||(l[0]=t=>T(o).isCollapsed=!T(o).isCollapsed)},{default:$(()=>[B(T(Je),{class:"!w-full !h-full"})]),_:1},8,["class"]),Ot]))}}),Nt={class:"flex grow"},Bt={class:"h-full"},At={class:"box-border flex-1 p-4 bg-gray-200"},jt=P({__name:"home",setup(e){const o=Le();return(n,l)=>{const t=Pe("router-view");return O(),F(ie,null,[B(Pt),j("div",Nt,[j("div",Bt,[B(T(wt),{class:"h-full w-[250px]","background-color":"#354363","text-color":"#fff",collapse:T(o).isCollapsed,router:""},{default:$(()=>[B(T(kt),{index:""},{title:$(()=>[Ne(" 项目列表 ")]),default:$(()=>[B(T(ue),null,{default:$(()=>[B(T(Qe))]),_:1})]),_:1})]),_:1},8,["collapse"])]),j("div",At,[B(t)])])],64)}}});export{jt as default};
